{"version":3,"sources":["components/MainPage/Aside/Avatars/Avatars.module.css","components/Login/Login.module.css","hoc/withAuthRedirect.js","Redux/dialogs-reducer.js","components/MainPage/Users/Users.module.css","components/Footer/Footer.module.css","components/common/Preloader/Preloader.module.css","api/api.js","components/MainPage/Profile/ProfileHeader/ProfileHeader.module.css","components/MainPage/Profile/MyPost/MyPosts.module.css","components/MainPage/Aside/Aside.module.css","Redux/side-bar-reducer.js","Redux/users-reducer.js","Redux/auth-reducer.js","Redux/app-reducer.js","Redux/redux-store.js","components/MainPage/Aside/Avatars/AvatarItem/AvatarItem.jsx","components/MainPage/Aside/Avatars/Avatars.jsx","components/MainPage/Aside/Avatars/AvatarsContainer.jsx","components/MainPage/Aside/Aside.jsx","components/Footer/Footer.jsx","components/common/Pagination/Pagination.js","assets/images/No_image_available.png","assets/images/images.js","components/MainPage/Users/User.jsx","components/MainPage/Users/Users.jsx","Redux/users-selector.js","components/MainPage/Users/UsersContainer.jsx","components/MainPage/Profile/MyPost/MyPost.jsx","components/MainPage/Profile/MyPost/MyPosts.jsx","components/MainPage/Profile/MyPost/MyPostsContainer.jsx","components/MainPage/Profile/ProfileHeader/ProfileStatusWithHook.jsx","components/MainPage/Profile/ProfileHeader/ProfileHeader.jsx","components/MainPage/Profile/Profile.jsx","components/MainPage/Profile/ProfileContainer.jsx","components/Login/Login.jsx","hoc/withLazyLoad.js","components/MainPage/MainPage.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","App.js","index.js","components/Header/Header.module.css","Redux/profile-reducer.js","components/common/Pagination/Pagination.module.css","components/common/Preloader/Preloader.jsx","utils/validators/validators.js","components/MainPage/Profile/Profile.module.css","components/common/FormControls/FormControls.js","components/MainPage/MainPage.module.css","components/MainPage/Aside/Avatars/AvatarItem/AvatarItem.module.css","components/common/FormControls/FormControls.module.css"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","connect","props","to","ADD_MESSAGE","SET_MESSAGES_PAGE_DATA","initialState","dialogsData","messagesData","addDialogMessage","newMessageBody","type","setMessagesData","messagesPageData","dialogsReducer","action","replace","id","message","instance","axios","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","followedAPI","getSub","userId","post","deleteSub","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","setPhoto","photo","formData","FormData","append","setOwnProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptcha","SET_SIDEBAR_DATA","avatarsData","sideBarReducer","sideBarAvatars","TOGGLE_FOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","isFollowingProgress","toggleFollow","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","isFollowing","followUnfollowFlow","dispatch","apiMethod","a","resultCode","usersReducer","map","u","followed","totalCount","filter","SET_USER_DATA","SET_CAPTCHA","captchaUrl","setUserData","payload","setCaptchaUrl","getAuthUserData","getCaptchaUrl","url","authReducer","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","messagesPage","usersPage","sideBar","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","AvatarItem","className","style","wrapper","user_img_wr","src","userImg","alt","user_name","userName","Avatars","stateAvatarsData","length","setSideBarData","avatars","avatar","avatar_wrapper","user_block_wrapper","setSideBarAC","Aside","aside","nav_wrapper","nav","activeClassName","active","AvatarsContainer","Footer","footer","Pagination","onPageChanged","portionSize","pages","pagesCount","Math","ceil","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginationWrapper","prevNextBtn","onClick","numbersBox","p","index","pg_number","pg_number_active","images","imgAvatarNotFound","imgProfileNotFound","User","user","box_wrapper","img_wrapper","photos","small","disabled","some","unFollowAccept","btnFollowed","btnUnFollow","followAccept","span_wrapper","spanName","name","Users","preloader_wr","Preloader","createSelector","getTotalUsersCount","getCurrentPage","getPageSize","getIsFetching","getIsFollowingProgress","getIsAuth","UsersContainer","this","React","items","MyPost","post_wr","post_box_wr","post_img_wr","post_description_wr","post_message_wr","post_likeMessage","icon","faThumbsUp","post_likeCount","likeCount","maxLength300","maxLengthCreator","Textarea","Element","AddPostMessageRedux","reduxForm","onSubmit","handleSubmit","Field","component","validate","placeholder","MyPosts","stateProfilePage","postData","setPostData","posts","main_wr","values","addPost","newPostMessage","ProfileStatusWithHook","editMode","setEditMode","setStatus","useEffect","autoFocus","onFocus","event","target","select","onBlur","updateUserStatus","onChange","e","value","inputStatus","onDoubleClick","lfj_status","ProfileHeader","profileHeader_wrapper","large","profileHeader_info","profileHeader_top_info","fullName","lfj_title","lookingForAJob","lfj_desc","lookingForAJobDescription","about_info_wr","aboutMe","contacts_wr","social_icons","rel","title","href","contacts","github","faGithubSquare","facebook","faFacebookSquare","instagram","faInstagram","vk","faVk","youtube","faYoutube","twitter","faTwitterSquare","website","faLink","mainLink","Profile","MyPostsContainer","ProfileContainer","match","params","authorizedUserId","getUserProfile","getUserStatus","refreshProfile","prevProps","prevState","snapshot","updateuserStatus","withRouter","Input","LoginReduxForm","error","commonError","required","messages","stopSubmit","_error","login_wr","withLazyLoad","Suspense","fallback","MySettings","lazy","Music","Notifications","MyMessagesContainer","MainPage","mainPage","exact","path","render","Header","header","logo_wr","login_block_wr","logoutWrapper","login_text_login","login_text","HeaderContainer","App","initialize","promiseMe","Promise","all","ReactDOM","document","getElementById","ADD_POST","SET_POST_DATA","SET_USER_PROFILE","SET_STATUS","SET_PHOTO","postDataItem","savePhoto","saveBioProfile","getState","refreshProfileInSettings","fetching","maxLength","input","meta","hasErrors","touched","formControl","errorMessage"],"mappings":"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","file":"static/js/main.343cc6cd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar_wrapper\":\"Avatars_avatar_wrapper__2HPOC\",\"user_block_wrapper\":\"Avatars_user_block_wrapper__2QcIg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login_wr\":\"Login_login_wr__1gy8o\",\"commonError\":\"Login_commonError__pJ8AN\"};","import React from 'react'\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({\r\n\tisAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\tlet RedirectComponent = (props) => {\r\n\t\tif (!props.isAuth) return <Redirect to='/Login'/>\r\n\t\treturn <Component {...props} />\r\n\r\n\t}\r\n\tlet ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\treturn ConnectedAuthRedirectComponent\r\n}\r\n\r\n\r\n// export const withAuthRedirect = (Component) => {\r\n// \tclass RedirectComponent extends React.Component {\r\n// \t\trender() {\r\n// \t\t\tif(!this.props.isAuth) return <Redirect to='/login' />\r\n// \t\t\treturn <Component {...this.props} />\r\n// \t\t}\r\n// \t}\r\n// \tlet ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n//\r\n// \treturn ConnectedAuthRedirectComponent\r\n// }\r\n\r\n","const ADD_MESSAGE = 'ADD-MESSAGE';\r\n// const UPDATE_DIALOG_MESSAGE_TEXT = 'UPDATE-DIALOG-MESSAGE-TEXT';\r\n// const CLEAR_DIALOG_MESSAGE_TEXT = 'CLEAR-DIALOG-MESSAGE-TEXT';\r\nconst SET_MESSAGES_PAGE_DATA = 'SET-MESSAGES-PAGE-DATA';\r\n\r\nlet initialState = {\r\n\tdialogsData: [],\r\n\tmessagesData: [],\r\n\t// newMessageText: \"\"\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_MESSAGE:\r\n\t\t\tif (action.newMessageBody && action.newMessageBody.replace(/\\s/g, \"\")) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tmessagesData: [...state.messagesData, {id: 4, message: action.newMessageBody}],\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn state\r\n\r\n\t\t// case UPDATE_DIALOG_MESSAGE_TEXT:\r\n\t\t// \treturn {\r\n\t\t// \t\t...state,\r\n\t\t// \t\tnewMessageText: action.newText\r\n\t\t// \t}\r\n\r\n\t\tcase SET_MESSAGES_PAGE_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdialogsData: [...state.dialogsData, ...action.messagesPageData.dialogsData],\r\n\t\t\t\tmessagesData: [...state.messagesData, ...action.messagesPageData.messagesData]\r\n\t\t\t}\r\n\r\n\t\t// case CLEAR_DIALOG_MESSAGE_TEXT:\r\n\t\t// \tif (state.newMessageText) {\r\n\t\t// \t\treturn {\r\n\t\t// \t\t\t...state,\r\n\t\t// \t\t\tnewMessageText: \"\"\r\n\t\t// \t\t}\r\n\t\t// \t}\r\n\t\t// \treturn state\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const addDialogMessage = (newMessageBody) => ({type: ADD_MESSAGE, newMessageBody});\r\n// export const onChangeMessageText = (text) => ({type: UPDATE_DIALOG_MESSAGE_TEXT, newText: text});\r\n// export const clearMessageInDialog = () => ({type: CLEAR_DIALOG_MESSAGE_TEXT});\r\nexport const setMessagesData = (messagesPageData) => ({type: SET_MESSAGES_PAGE_DATA, messagesPageData: messagesPageData})\r\n\r\nexport default dialogsReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Users_wrapper__uwJtP\",\"box_wrapper\":\"Users_box_wrapper__2MTuI\",\"btnFollowed\":\"Users_btnFollowed__25tG8\",\"btnUnFollow\":\"Users_btnUnFollow__1qyBa\",\"img_wrapper\":\"Users_img_wrapper__23ttJ\",\"span_wrapper\":\"Users_span_wrapper__2eHth\",\"spanName\":\"Users_spanName__uU15Y\",\"preloader_wr\":\"Users_preloader_wr__nTtet\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1ydxU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fetching\":\"Preloader_fetching___ZdYJ\",\"search-fetching\":\"Preloader_search-fetching__2_mtZ\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\twithCredentials: true,\r\n\theaders: {\r\n\t\t// 'API-KEY': 'bb8e013c-9223-4dee-8a5a-b96156c04ec6'\r\n\t\t'API-KEY': 'a1cfc85a-7e70-4120-8bed-62fbd526678c'\r\n\t}\r\n})\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage, pageSize){\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data)\r\n\t}\r\n}\r\n\r\nexport const followedAPI = {\r\n\tgetSub(userId) {\r\n\t\treturn instance.post(`follow/${userId}`).then(response => response.data)\r\n\t},\r\n\tdeleteSub(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`).then(response => response.data)\r\n\t}\r\n}\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`).then(response => response.data)\r\n\t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`).then(response => response.data)\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status`, {status}).then(response => response.data)\r\n\t},\r\n\tsetPhoto(photo) {\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append('image', photo)\r\n\t\treturn instance.put(`profile/photo`, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t}\r\n\t\t}).then(response => response.data)\r\n\t},\r\n\tsetOwnProfile(profile) {\r\n\t\treturn instance.put(`profile`, profile).then(response => response.data)\r\n\t}\r\n}\r\n\r\nexport const authAPI = {\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`).then(response => response.data)\r\n\t},\r\n\tlogin(email, password, rememberMe = false, captcha = null) {\r\n\t\treturn instance.post(`auth/login`, {email, password, rememberMe, captcha}).then(response => response.data)\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`).then(response => response.data)\r\n\t}\r\n}\r\n\r\nexport const securityAPI = {\r\n\tgetCaptcha() {\r\n\t\treturn instance.get(`security/get-captcha-url`).then(response => response.data)\r\n\t}\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileHeader_wrapper\":\"ProfileHeader_profileHeader_wrapper__2Ci9p\",\"profileHeader_info\":\"ProfileHeader_profileHeader_info__Pram0\",\"profileHeader_top_info\":\"ProfileHeader_profileHeader_top_info__12Mqb\",\"lfj_title\":\"ProfileHeader_lfj_title__2RSaL\",\"lfj_desc\":\"ProfileHeader_lfj_desc__hLn99\",\"lfj_status\":\"ProfileHeader_lfj_status__1Px5N\",\"inputStatus\":\"ProfileHeader_inputStatus__2rfMP\",\"about_info_wr\":\"ProfileHeader_about_info_wr__1v6sm\",\"contacts_wr\":\"ProfileHeader_contacts_wr__1xn6Y\",\"img_wrapper\":\"ProfileHeader_img_wrapper__3qhMf\",\"social_icons\":\"ProfileHeader_social_icons__UL_jA\",\"preloader_wr\":\"ProfileHeader_preloader_wr__1lvs7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main_wr\":\"MyPosts_main_wr__2V-lp\",\"post_wr\":\"MyPosts_post_wr__12GJC\",\"post_box_wr\":\"MyPosts_post_box_wr__LQO3o\",\"post_img_wr\":\"MyPosts_post_img_wr__A0GAn\",\"post_description_wr\":\"MyPosts_post_description_wr__2cuZ4\",\"post_message_wr\":\"MyPosts_post_message_wr__2HwsI\",\"post_likeMessage\":\"MyPosts_post_likeMessage__1QIBh\",\"post_likeCount\":\"MyPosts_post_likeCount__j-EeN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"Aside_aside__2gmEt\",\"nav_wrapper\":\"Aside_nav_wrapper__2ftlI\",\"nav\":\"Aside_nav__11Jk8\",\"active\":\"Aside_active__1keT7\"};","const SET_SIDEBAR_DATA = 'SET_SIDEBAR_DATA'\r\n\r\nlet initialState = {\r\n\tavatarsData: []\r\n}\r\n\r\nconst sideBarReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase SET_SIDEBAR_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tavatarsData: [...state.avatarsData, ...action.sideBarAvatars]\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setSideBarAC = (avatars) => ({type: SET_SIDEBAR_DATA, sideBarAvatars: avatars})\r\n\r\nexport default sideBarReducer;","import {followedAPI, usersAPI} from \"../api/api\";\r\n\r\nconst TOGGLE_FOLLOW = 'TOGGLE_FOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_COUNT = 'SET_TOTAL_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\ttotalUsersCount: 0,\r\n\tpageSize: 75,\r\n\tcurrentPage: 1,\r\n\tisFetching: false,\r\n\tisFollowingProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase TOGGLE_FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map(u => {\r\n\t\t\t\t\tif (u.id === action.userId && u.followed) {\r\n\t\t\t\t\t\treturn {...u, followed: false}\r\n\t\t\t\t\t} else if (u.id === action.userId && !u.followed) {\r\n\t\t\t\t\t\treturn {...u, followed: true}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn u\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\tcase SET_USERS:\r\n\t\t\treturn {...state, users: action.users}\r\n\r\n\t\tcase SET_CURRENT_PAGE:\r\n\t\t\treturn {...state, currentPage: action.currentPage}\r\n\r\n\t\tcase SET_TOTAL_COUNT: {\r\n\t\t\treturn {...state, totalUsersCount: action.totalCount}\r\n\t\t}\r\n\r\n\t\tcase TOGGLE_IS_FETCHING:\r\n\t\t\treturn {...state, isFetching: action.isFetching}\r\n\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisFollowingProgress: action.isFollowing\r\n\t\t\t\t\t? [...state.isFollowingProgress, action.userId]\r\n\t\t\t\t\t: state.isFollowingProgress.filter(id => id !== action.userId)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const toggleFollow = (userId) => ({type: TOGGLE_FOLLOW, userId})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalCount = (totalCount) => ({type: SET_TOTAL_COUNT, totalCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleIsFollowingProgress = (isFollowing, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFollowing, userId})\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(toggleIsFetching(true))\r\n\t\tdispatch(setCurrentPage(currentPage))\r\n\r\n\t\tlet data = await usersAPI.getUsers(currentPage, pageSize)\r\n\t\tdispatch(toggleIsFetching(false))\r\n\t\tdispatch(setUsers(data.items))\r\n\t\tdispatch(setTotalCount(data.totalCount))\r\n\t}\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod) => {\r\n\tdispatch(toggleIsFollowingProgress(true, userId))\r\n\r\n\tlet data = await apiMethod\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(toggleFollow(userId))\r\n\t\tdispatch(toggleIsFollowingProgress(false, userId))\r\n\t}\r\n}\r\n\r\nexport const followAccept = (userId) => (dispatch) => {\r\n\t\t// let apiMethod = followedAPI.getSub(userId)\r\n\t\tfollowUnfollowFlow(dispatch, userId, followedAPI.getSub(userId))\r\n\r\n\t\t// dispatch(toggleIsFollowingProgress(true, userId))\r\n\t\t// let data = await apiMethod\r\n\t\t// if (data.resultCode === 0) {\r\n\t\t// \tdispatch(toggleFollow(userId))\r\n\t\t// \tdispatch(toggleIsFollowingProgress(false, userId))\r\n\t\t// }\r\n}\r\nexport const unFollowAccept = (userId) => (dispatch) => {\r\n\t\tfollowUnfollowFlow(dispatch, userId, followedAPI.deleteSub(userId))\r\n\r\n\t\t// let apiMethod = followedAPI.deleteSub(userId)\r\n\r\n\r\n\t\t// dispatch(toggleIsFollowingProgress(true, userId))\r\n\t\t// let data = await apiMethod\r\n\t\t// if (data.resultCode === 0) {\r\n\t\t// \tdispatch(toggleFollow(userId))\r\n\t\t// \tdispatch(toggleIsFollowingProgress(false, userId))\r\n\t\t// }\r\n}\r\n\r\nexport default usersReducer","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\nconst SET_CAPTCHA = 'SET_CAPTCHA'\r\n\r\nlet initialState = {\r\n\tid: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false,\r\n\tcaptchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_CAPTCHA:\r\n\t\tcase SET_USER_DATA: {\r\n\t\t\treturn {\r\n\t\t\t\t...state, ...action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n\r\nexport const setUserData = (id, email, login, isAuth) => ({type: SET_USER_DATA, payload: {id, email, login, isAuth}})\r\nexport const setCaptchaUrl = (captchaUrl) => ({type: SET_CAPTCHA, payload: {captchaUrl}})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\tlet data = await authAPI.me()\r\n\tif (data.resultCode === 0) {\r\n\t\tlet {id, email, login} = data.data\r\n\t\tdispatch(setUserData(id, email, login, true))\r\n\t}\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n\tlet data = await authAPI.login(email, password, rememberMe, captcha)\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(getAuthUserData())\r\n\t}\r\n\t\t// else if (data.resultCode === 10) {\r\n\t\t// \tdispatch(stopSubmit('login', {_error: 'Please enter captcha'}))\r\n\t// }\r\n\telse {\r\n\t\tif(data.resultCode === 10) {\r\n\t\tdispatch(getCaptchaUrl())\r\n\t\t}\r\n\t\tlet message = data.messages ? data.messages[0] : 'Some error'\r\n\t\tdispatch(stopSubmit('login', {_error: message}))\r\n\t}\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n\tconst data = await securityAPI.getCaptcha()\r\n\tdispatch(setCaptchaUrl(data.url))\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\tlet data = await authAPI.logout()\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(setUserData(null, null, null, false))\r\n\t\tdispatch(setCaptchaUrl(null))\r\n\t}\r\n}\r\n\r\nexport default authReducer\r\n\r\n","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\nlet initialState = {\r\n\tinitialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase INITIALIZED_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state, initialized: true\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initialize = () => (dispatch) => {\r\n\tlet promiseMe = dispatch(getAuthUserData())\r\n\tPromise.all([promiseMe]).then(() => {\r\n\t\tdispatch(initializedSuccess())\r\n\t})\r\n}\r\n\r\n\r\nexport default appReducer\r\n\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sideBarReducer from \"./side-bar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport appReducer from \"./app-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer} from 'redux-form'\r\n\r\nconst reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tmessagesPage: dialogsReducer,\r\n\tusersPage: usersReducer,\r\n\tsideBar: sideBarReducer,\r\n\tauth: authReducer,\r\n\tapp: appReducer,\r\n\tform: formReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\n// const store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\nwindow.store = store\r\n\r\nexport default store","import React from 'react';\r\nimport style from \"./AvatarItem.module.css\";\r\n\r\nconst AvatarItem = (props) => {\r\n\treturn (\r\n\t\t<div className={style.wrapper}>\r\n\t\t\t<div className={style.user_img_wr}>\r\n\t\t\t\t<img src={props.userImg} alt=\"avatar\"/>\r\n\t\t\t</div>\r\n\t\t\t<div className={style.user_name}>{props.userName}</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default AvatarItem;","import React from 'react';\r\nimport style from './Avatars.module.css';\r\nimport AvatarItem from \"./AvatarItem/AvatarItem\";\r\n\r\nconst Avatars = (props) => {\r\n\r\n\tif(!props.stateAvatarsData.length) {\r\n\t\tprops.setSideBarData([\r\n\t\t\t{id: 0,\r\n\t\t\t\tuserImg: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT6b7WENFquctsWy8WgMSHmFJbVyJXf0lQ4R2XRAQcd2WgOK2IIfFlLUFcAcsdnpA8S_Wg&usqp=CAU',\r\n\t\t\t\tuserName: 'Andy'},\r\n\t\t\t{id: 1,\r\n\t\t\t\tuserImg: 'https://image1.thematicnews.com/uploads/images/00/00/41/2015/04/30/ad358ed4d0.jpg',\r\n\t\t\t\tuserName: 'Panda'},\r\n\t\t\t{id: 2,\r\n\t\t\t\tuserImg: 'https://i2.wp.com/andrey-eltsov.ru/wp-content/uploads/2017/09/DopNaAvu1.jpg',\r\n\t\t\t\tuserName: 'Dasha'}\r\n\t\t])\r\n\t}\r\n\r\n\tlet avatars = props.stateAvatarsData.map(avatar => <AvatarItem userImg={avatar.userImg} userName={avatar.userName} key={avatar.id}/>)\r\n\r\n\treturn (\r\n\t\t<div className={style.avatar_wrapper}>\r\n\t\t\t<span>My Friends</span>\r\n\t\t\t<div className={style.user_block_wrapper}>\r\n\t\t\t\t{avatars}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Avatars;","import React from 'react';\r\nimport Avatars from \"./Avatars\";\r\nimport {connect} from \"react-redux\";\r\nimport {setSideBarAC} from \"../../../../Redux/side-bar-reducer\";\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tstateAvatarsData: state.sideBar.avatarsData\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsetSideBarData: (avatars) => {\r\n\t\t\tdispatch(setSideBarAC(avatars))\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Avatars);","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport style from './Aside.module.css';\r\nimport AvatarsContainer from \"./Avatars/AvatarsContainer\";\r\n\r\nconst Aside = () => {\r\n\treturn (\r\n\t\t<aside className={style.aside}>\r\n\t\t\t<div className={style.nav_wrapper}>\r\n\t\t\t\t<ul className={style.nav}>\r\n\t\t\t\t\t<li><NavLink to='/profile' activeClassName={style.active}>My page</NavLink></li>\r\n\t\t\t\t\t<li><NavLink to='/myMessages' activeClassName={style.active}>My messages</NavLink></li>\r\n\t\t\t\t\t<li><NavLink to='/myMusic' activeClassName={style.active}>My Music</NavLink></li>\r\n\t\t\t\t\t<li><NavLink to='/notifications' activeClassName={style.active}>My notifications</NavLink></li>\r\n\t\t\t\t\t<li><NavLink to='/findUsers' activeClassName={style.active}>Find Users</NavLink></li>\r\n\t\t\t\t\t<li><NavLink to='/mySettings' activeClassName={style.active}>My settings</NavLink></li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<AvatarsContainer />\r\n\t\t\t</div>\r\n\t\t</aside>\r\n\t);\r\n}\r\n\r\nexport default Aside;","import React from 'react'\r\nimport style from './Footer.module.css'\r\n\r\nconst Footer = () => {\r\n\treturn (\r\n\t\t<footer className={style.footer}>\r\n            <p>made by Alex</p>\r\n        </footer>\r\n\t)\r\n}\r\n\r\nexport default Footer","import React, {useState} from 'react';\r\nimport style from './Pagination.module.css';\r\n\r\nconst Pagination = ({totalUsersCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n\tlet pages = []\r\n\tlet pagesCount = Math.ceil(totalUsersCount / pageSize)\r\n\tfor (let i = 1; i <= pagesCount; i++) {\r\n\t\tpages.push(i)\r\n\t}\r\n\r\n\tlet portionCount = Math.ceil(pagesCount / portionSize)\r\n\tlet [portionNumber, setPortionNumber] = useState(1)\r\n\tlet leftPortionPageNumber = (portionNumber -1) * portionSize + 1\r\n\tlet rightPortionPageNumber = portionNumber * portionSize\r\n\r\n\treturn (\r\n\r\n\t\t<div className={style.paginationWrapper}>\r\n\t\t\t{portionNumber > 5 && <button className={style.prevNextBtn} onClick={() => {setPortionNumber(portionNumber - 5)}}>More Prev</button>}\r\n\t\t\t{portionNumber > 1 && <button className={style.prevNextBtn} onClick={() => {setPortionNumber(portionNumber - 1)}}>Prev</button>}\r\n\t\t\t<div className={style.numbersBox}>\r\n\t\t\t\t{pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n\t\t\t\t\t.map((p, index) => <span\r\n\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\tclassName={`${style.pg_number} ${currentPage === p && style.pg_number_active}`}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tonPageChanged(p)\r\n\t\t\t\t\t\t}}>{p}</span>)}\r\n\t\t\t</div>\r\n\t\t\t{portionCount > portionNumber && <button className={style.prevNextBtn} onClick={() => {setPortionNumber(portionNumber + 1)}}>Next</button>}\r\n\t\t\t{portionNumber < portionCount - 5 && <button className={style.prevNextBtn} onClick={() => {setPortionNumber(portionNumber + 5)}}>More Next</button>}\r\n\t\t</div>\r\n\r\n\r\n\r\n\t\t// <div>\r\n\t\t// \t{pages.map((p, index) => <span\r\n\t\t// \t\tkey={index}\r\n\t\t// \t\tclassName={`${style.pg_number} ${currentPage === p && style.pg_number_active}`}\r\n\t\t// \t\tonClick={() => {\r\n\t\t// \t\t\tonPageChanged(p)\r\n\t\t// \t\t}}>{p}</span>)}\r\n\t\t// </div>\r\n\t);\r\n}\r\n\r\nexport default Pagination;","export default \"data:image/png;base64,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\"","import imgAvatarNotFound from './No_image_available.png'\r\nconst images = {\r\n\timgAvatarNotFound: imgAvatarNotFound,\r\n\timgProfileNotFound: imgAvatarNotFound\r\n}\r\n\r\nexport default images","import React from 'react';\r\nimport style from \"./Users.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport images from \"../../../assets/images/images\";\r\n\r\nconst User = (props) => {\r\n\treturn (\r\n\t\tprops.users.map(user => <div key={user.id} className={style.wrapper}>\r\n\t\t\t<div className={style.box_wrapper}>\r\n\t\t\t\t<NavLink to={'/profile/' + user.id}>\r\n\t\t\t\t\t<div className={style.img_wrapper}>\r\n\t\t\t\t\t\t<img src={user.photos.small ? user.photos.small : images.imgAvatarNotFound} alt=\"avatar\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</NavLink>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprops.isAuth\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t!user.followed\r\n\t\t\t\t\t\t\t\t? <button disabled={props.isFollowingProgress.some(id => id === user.id)}\r\n\t\t\t\t\t\t\t\t\t\t  onClick={() => props.followAccept(user.id)}\r\n\t\t\t\t\t\t\t\t\t\t  className={`${style.btnFollowed} ${user.followed ? style.btnUnFollow : ''}`}>\r\n\t\t\t\t\t\t\t\t\tfollow\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t: <button disabled={props.isFollowingProgress.some(id => id === user.id)}\r\n\t\t\t\t\t\t\t\t\t\t  onClick={() => props.unFollowAccept(user.id)}\r\n\t\t\t\t\t\t\t\t\t\t  className={`${style.btnFollowed} ${user.followed ? style.btnUnFollow : ''}`}>\r\n\t\t\t\t\t\t\t\t\tunfollow\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<span className={style.span_wrapper}>name: <span className={style.spanName}>{user.name}</span></span>\r\n\t\t\t\t<span className={style.span_wrapper}>country: <span className={style.spanName}>user.location.country</span></span>\r\n\t\t\t\t<span className={style.span_wrapper}>city: <span className={style.spanName}>user.location.city</span></span>\r\n\t\t\t\t<span className={style.span_wrapper}>status: <span className={style.spanName}>{user.status}</span></span>\r\n\t\t\t</div>\r\n\t\t</div>)\r\n\t);\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport style from './Users.module.css';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport Pagination from \"../../common/Pagination/Pagination\";\r\nimport User from \"./User\";\r\n\r\nconst Users = (props) => {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Pagination totalUsersCount={props.totalUsersCount}\r\n\t\t\t\t\t\tpageSize={props.pageSize}\r\n\t\t\t\t\t\tcurrentPage={props.currentPage}\r\n\t\t\t\t\t\tonPageChanged={props.onPageChanged} />\r\n\t\t\t<div>\r\n\t\t\t\t{\r\n\t\t\t\t\tprops.isFetching === false\r\n\t\t\t\t\t\t?\r\n\t\t\t\t\t\t<User users={props.users}\r\n\t\t\t\t\t\t\t  followAccept={props.followAccept}\r\n\t\t\t\t\t\t\t  unFollowAccept={props.unFollowAccept}\r\n\t\t\t\t\t\t\t  isFollowingProgress={props.isFollowingProgress} followed={props.followed}\r\n\t\t\t\t\t\t\t  isAuth={props.isAuth}/>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<div className={style.preloader_wr}>\r\n\t\t\t\t\t\t\t<Preloader/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n\treturn state.usersPage.users\r\n}\r\n\r\n// fake filter for testing\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n\treturn users.filter(u => true)\r\n})\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n\treturn state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n\treturn state.usersPage.currentPage\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n\treturn state.usersPage.pageSize\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n\treturn state.usersPage.isFetching\r\n}\r\n\r\nexport const getIsFollowingProgress = (state) => {\r\n\treturn state.usersPage.isFollowingProgress\r\n}\r\n\r\nexport const getIsAuth = (state) => {\r\n\treturn state.auth.isAuth\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {followAccept, requestUsers, unFollowAccept} from '../../../Redux/users-reducer';\r\nimport Users from './Users';\r\nimport {\r\n\tgetCurrentPage, getIsAuth,\r\n\tgetIsFetching,\r\n\tgetIsFollowingProgress,\r\n\tgetPageSize,\r\n\tgetTotalUsersCount,\r\n\tgetUsers\r\n} from \"../../../Redux/users-selector\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n\t}\r\n\tonPageChanged = (currentPage) => {\r\n\t\tthis.props.getUsers(currentPage, this.props.pageSize)\r\n\r\n\t}\r\n\trender() {\r\n\t\treturn <>\r\n\t\t\t<Users {...this.props} onPageChanged={this.onPageChanged} />\r\n\t\t</>\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: getUsers(state),\r\n\t\ttotalUsersCount: getTotalUsersCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tisFollowingProgress: getIsFollowingProgress(state),\r\n\t\tisAuth: getIsAuth(state)\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps,\r\n\t{followAccept, unFollowAccept, getUsers: requestUsers})(UsersContainer);\r\n","import React from 'react';\r\nimport style from './MyPosts.module.css';\r\nimport { faThumbsUp } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst MyPost = (props) => {\r\n\r\n\treturn (\r\n\r\n\t\t<div className={style.post_wr}>\r\n\t\t\t<div className={style.post_box_wr}>\r\n\t\t\t\t<div className={style.post_img_wr}>\r\n\t\t\t\t\t<img src={props.userImg} alt=\"avatar\"/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<span>{props.name}</span>\r\n\t\t\t</div>\r\n\t\t\t<div className={style.post_description_wr}>\r\n\t\t\t\t<div className={style.post_message_wr}>\r\n\t\t\t\t\t<p>{props.message}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span className={style.post_likeMessage}><FontAwesomeIcon icon={faThumbsUp} />\r\n\t\t\t\t\t\t<span className={style.post_likeCount}>{' ' + props.likeCount}</span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default MyPost","import React from 'react'\r\nimport style from './MyPosts.module.css'\r\nimport MyPost from \"./MyPost\"\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator} from \"../../../../utils/validators/validators\";\r\n// import {Textarea} from \"../../../common/FormControls/FormControls\";\r\nimport {Element} from \"../../../common/FormControls/FormControls\";\r\n\r\nconst MyPosts = (props) => {\r\n\r\n\tif(!props.stateProfilePage.postData.length) {\r\n\t\tprops.setPostData([\r\n\t\t\t{id: 0,\r\n\t\t\t\tuserImg: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT6b7WENFquctsWy8WgMSHmFJbVyJXf0lQ4R2XRAQcd2WgOK2IIfFlLUFcAcsdnpA8S_Wg&usqp=CAU',\r\n\t\t\t\tname: 'Andy', message: 'Hi, how are you?', likeCount: 15},\r\n\t\t\t{id: 1,\r\n\t\t\t\tuserImg: 'https://image1.thematicnews.com/uploads/images/00/00/41/2015/04/30/ad358ed4d0.jpg',\r\n\t\t\t\tname: 'Panda', message: \"It's my first post\", likeCount: 34}\r\n\t\t])\r\n\t}\r\n\r\n\tconst posts = props.stateProfilePage.postData.map(p => <MyPost userImg={p.userImg} name={p.name} likeCount={p.likeCount}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   message={p.message} key={p.id}/>)\r\n\r\n\tconst addPostMessage = (values) => {\r\n\t\tprops.addPost(values.newPostMessage)\r\n\t}\r\n\r\n\t// const onChangePostText = (e) => {\r\n\t// \tlet text = e.target.value\r\n\t// \tprops.onChangePostText(text)\r\n\t// }\r\n\r\n\treturn (\r\n\t\t<div className={style.main_wr}>\r\n\t\t\t<h3>My Post</h3>\r\n\t\t\t<AddPostMessageRedux onSubmit={addPostMessage} />\r\n\t\t\t{posts}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst maxLength300 = maxLengthCreator(300)\r\nconst Textarea = Element('textarea')\r\n\r\nconst AddPostMessage = (props) => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<Field component={Textarea} name='newPostMessage' validate={[maxLength300]} placeholder='write a message' />\r\n\t\t\t{/*<textarea*/}\r\n\t\t\t{/*\tonChange={onChangePostText}*/}\r\n\t\t\t{/*\tvalue={props.stateProfilePage.newPostText}*/}\r\n\t\t\t{/*\tplaceholder='write a message'*/}\r\n\t\t\t{/*\tname=\"post\"*/}\r\n\t\t\t{/*\tautoFocus={true}*/}\r\n\t\t\t{/*\t/>*/}\r\n\t\t\t<button>Add post</button>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst AddPostMessageRedux = reduxForm({form: 'addPostMessageForm'})(AddPostMessage)\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {addPost, setPostData} from \"../../../../Redux/profile-reducer\";\r\nimport MyPosts from './MyPosts';\r\nimport {connect} from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tstateProfilePage: state.profilePage\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n\tsetPostData,\r\n\taddPost\r\n})(MyPosts)","import React, {useEffect, useState} from 'react';\r\nimport style from \"./ProfileHeader.module.css\";\r\n\r\nconst ProfileStatusWithHook = (props) => {\r\n\r\n\tconst [editMode, setEditMode] = useState(false)\r\n\tconst [status, setStatus] = useState(props.status)\r\n\r\n\tuseEffect( () => {\r\n\t\tsetStatus(props.status)\r\n\t}, [props.status])\r\n\r\n\tconst activatedEditMode = () => {\r\n\t\tsetEditMode(true)\r\n\t}\r\n\r\n\tconst deactivatedEditMode = () => {\r\n\t\tsetEditMode(false)\r\n\t\tprops.updateUserStatus(status)\r\n\t}\r\n\r\n\tconst updateStatus = (e) => {\r\n\t\tsetStatus(e.target.value)\r\n\t}\r\n\r\n\tconst handleFocus = (event) => {\r\n\t\tevent.target.select();\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{editMode\r\n\t\t\t\t? <input autoFocus={true} onFocus={handleFocus} onBlur={deactivatedEditMode} onChange={updateStatus}\r\n\t\t\t\t\t\t className={style.inputStatus} value={status}/>\r\n\t\t\t\t: <span onDoubleClick={activatedEditMode}\r\n\t\t\t\t\t\tclassName={style.lfj_status}>{props.status}</span>\r\n\t\t\t}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\n\r\nexport default ProfileStatusWithHook;","import React from 'react';\r\nimport style from './ProfileHeader.module.css';\r\nimport {faFacebookSquare, faTwitterSquare, faInstagram, faVk, faYoutube, faGithubSquare} from '@fortawesome/free-brands-svg-icons';\r\nimport {faLink} from '@fortawesome/free-solid-svg-icons';\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport images from \"../../../../assets/images/images\";\r\nimport ProfileStatusWithHook from \"./ProfileStatusWithHook\";\r\n\r\nconst ProfileHeader = (props) => {\r\n\r\n\treturn (\r\n\t\t<div className={style.profileHeader_wrapper}>\r\n\r\n\t\t\t<div className={style.img_wrapper}>\r\n\t\t\t\t<img src={props.profile.photos.large ? props.profile.photos.large : images.imgProfileNotFound} alt=\"avatar\"/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={style.profileHeader_info}>\r\n\r\n\t\t\t\t<div className={style.profileHeader_top_info}>\r\n\t\t\t\t\t<h1>{props.profile.fullName}</h1>\r\n\r\n\t\t\t\t\t<ProfileStatusWithHook status={props.status} updateUserStatus={props.updateUserStatus}/>\r\n\r\n\t\t\t\t\t<span className={style.lfj_title}>Looking for a job: <span>{props.profile.lookingForAJob ? 'yes' : 'no'}</span></span>\r\n\t\t\t\t\t<span className={style.lfj_desc}>Job description: <span>{props.profile.lookingForAJobDescription ? props.profile.lookingForAJobDescription : 'empty'}</span></span>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={style.about_info_wr}>\r\n\r\n\t\t\t\t\t<h5>About Me: </h5>\r\n\t\t\t\t\t<p>{props.profile.aboutMe ? props.profile.aboutMe : 'this user did not leave a' +\r\n\t\t\t\t\t\t' message' +\r\n\t\t\t\t\t\t' about' +\r\n\t\t\t\t\t\t' himself'}</p>\r\n\r\n\t\t\t\t\t<h5 className={style.contacts_wr}>Contacts:</h5>\r\n\t\t\t\t\t<ul className={style.social_icons}>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<a target=\"_blank\"\r\n\t\t\t\t\t\t\t   rel=\"noreferrer\"\r\n\t\t\t\t\t\t\t   title={'GitHub'}\r\n\t\t\t\t\t\t\t   href={!props.profile.contacts.github\r\n\t\t\t\t\t\t\t\t   ? 'https://twitter.com'\r\n\t\t\t\t\t\t\t\t   : props.profile.contacts.github}>\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faGithubSquare}/>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<a target=\"_blank\"\r\n\t\t\t\t\t\t\t   rel=\"noreferrer\"\r\n\t\t\t\t\t\t\t   title={'Facebook'}\r\n\t\t\t\t\t\t\t   href={!props.profile.contacts.facebook\r\n\t\t\t\t\t\t\t\t   ? 'https://facebook.com'\r\n\t\t\t\t\t\t\t\t   : props.profile.contacts.facebook}>\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faFacebookSquare}/>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<a target=\"_blank\"\r\n\t\t\t\t\t\t\t   rel=\"noreferrer\"\r\n\t\t\t\t\t\t\t   title={'Instagram'}\r\n\t\t\t\t\t\t\t   href={!props.profile.contacts.instagram\r\n\t\t\t\t\t\t\t\t   ? 'https://instagram.com'\r\n\t\t\t\t\t\t\t\t   : props.profile.contacts.instagram}>\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faInstagram}/>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<a target=\"_blank\"\r\n\t\t\t\t\t\t\t   rel=\"noreferrer\"\r\n\t\t\t\t\t\t\t   title={'Vkontakte'}\r\n\t\t\t\t\t\t\t   href={!props.profile.contacts.vk\r\n\t\t\t\t\t\t\t\t   ? 'https://vk.com'\r\n\t\t\t\t\t\t\t\t   : props.profile.contacts.vk}>\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faVk}/>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<a target=\"_blank\"\r\n\t\t\t\t\t\t\t   rel=\"noreferrer\"\r\n\t\t\t\t\t\t\t   title={'Youtube'}\r\n\t\t\t\t\t\t\t   href={!props.profile.contacts.youtube\r\n\t\t\t\t\t\t\t\t   ? 'https://youtube.com'\r\n\t\t\t\t\t\t\t\t   : props.profile.contacts.youtube}>\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faYoutube}/>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<a target=\"_blank\"\r\n\t\t\t\t\t\t\t   rel=\"noreferrer\"\r\n\t\t\t\t\t\t\t   title={'Twitter'}\r\n\t\t\t\t\t\t\t   href={!props.profile.contacts.twitter\r\n\t\t\t\t\t\t\t\t   ? 'https://twitter.com'\r\n\t\t\t\t\t\t\t\t   : props.profile.contacts.twitter}>\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTwitterSquare}/>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t{!props.profile.contacts.website\r\n\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t: <li><a target=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t rel=\"noreferrer\"\r\n\t\t\t\t\t\t\t\t\t title={'Website'}\r\n\t\t\t\t\t\t\t\t\t href={props.profile.contacts.website}>\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faLink}/></a></li>}\r\n\r\n\t\t\t\t\t\t{!props.profile.contacts.mainLink\r\n\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t: <li><a target=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t rel=\"noreferrer\"\r\n\t\t\t\t\t\t\t\t\t title={'Mainlink'}\r\n\t\t\t\t\t\t\t\t\t href={props.profile.contacts.mainLink}>\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faLink}/></a></li>}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ProfileHeader;","import React from 'react';\r\nimport style from './Profile.module.css';\r\nimport MyPostsContainer from \"./MyPost/MyPostsContainer\";\r\nimport ProfileHeader from \"./ProfileHeader/ProfileHeader\";\r\n\r\nconst Profile = (props) => {\r\n\r\n\treturn (\r\n\t\t<div className={style.wrapper}>\r\n\t\t\t<ProfileHeader profile={props.profile} status={props.status} updateUserStatus={props.updateUserStatus} />\r\n\t\t\t<MyPostsContainer />\r\n\t\t</div>\r\n\r\n\t);\r\n}\r\n\r\nexport default Profile","import React from 'react';\r\nimport style from './Profile.module.css';\r\nimport {connect} from \"react-redux\";\r\nimport {getUserProfile, getUserStatus, updateUserStatus} from \"../../../Redux/profile-reducer\";\r\nimport Profile from \"./Profile\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport {withAuthRedirect} from \"../../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n\trefreshProfile() {\r\n\t\tlet userId = this.props.match.params.userId\r\n\t\tif (!userId) {\r\n\t\t\tuserId = this.props.authorizedUserId\r\n\t\t}\r\n\t\tthis.props.getUserProfile(userId)\r\n\t\tthis.props.getUserStatus(userId)\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.refreshProfile()\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tif(this.props.match.params.userId !== prevProps.match.params.userId) {\r\n\t\t\tthis.refreshProfile()\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tif (!this.props.profile) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className={style.preloader_wr}>\r\n\t\t\t\t\t<Preloader/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className={style.wrapper}>\r\n\t\t\t\t<Profile {...this.props} profile={this.props.profile} updateuserStatus={this.props.updateUserStatus}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\t\tprofile: state.profilePage.profile,\r\n\t\tstatus: state.profilePage.status,\r\n\t\tauthorizedUserId: state.auth.id,\r\n\t\tisAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, {getUserProfile, getUserStatus, updateUserStatus}),\r\n\twithRouter,\r\n\twithAuthRedirect\r\n)(ProfileContainer)\r\n\r\n// const AuthRedirectComponent = withAuthRedirect(ProfileContainer)\r\n//\r\n// const WithUrlDataContainerComponent = withRouter(AuthRedirectComponent)\r\n//\r\n// export default connect(mapStateToProps,{getUserProfile})(WithUrlDataContainerComponent)","import React from 'react';\r\nimport style from './Login.module.css';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {Element} from \"../common/FormControls/FormControls\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../Redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst Input = Element('input')\r\n\r\nconst LoginForm = (props) => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t{props.error && <span className={style.commonError}>\r\n\t\t\t\t{props.error}\r\n\t\t\t</span>}\r\n\t\t\t<div>\r\n\t\t\t\t<Field name={'email'} placeholder={'email'} component={Input} validate={[required]}/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<Field name={'password'} placeholder={'password'} type={'password'} component={Input} validate={[required]}/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<Field name={'rememberMe'} component={Input} type={'checkbox'} /> remember me\r\n\t\t\t</div>\r\n\t\t\t{\r\n\t\t\t\tprops.captchaUrl && <div>\r\n\t\t\t\t\t<img src={props.captchaUrl} alt='captcha'/>\r\n\t\t\t\t\t<Field name={'captcha'} placeholder={'captcha'} component={Input} validate={[required]}/>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t<button>Login</button>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n\r\n\tconst onSubmit = (formData) => {\r\n\t\tprops.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n\t}\r\n\r\n\tif(props.isAuth) return <Redirect to={'/profile'} />\r\n\r\n\treturn (\r\n\t\t<div className={style.login_wr}>\r\n\t\t\t<h1>Login</h1>\r\n\t\t\t<LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tcaptchaUrl: state.auth.captchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import style from \"../components/MainPage/MainPage.module.css\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\nimport React from \"react\";\r\n\r\nexport const withLazyLoad = (Component) => {\r\n\treturn (props) => <React.Suspense fallback={<div className={style.preloader_wr}><Preloader /></div>}>\r\n\t\t<Component {...props} />\r\n\t</React.Suspense>\r\n}","import React from 'react';\r\nimport style from './MainPage.module.css';\r\nimport {Redirect, Route} from \"react-router-dom\";\r\nimport UsersContainer from \"./Users/UsersContainer\";\r\nimport ProfileContainer from \"./Profile/ProfileContainer\";\r\nimport Login from \"../Login/Login\";\r\n\r\nimport {withLazyLoad} from \"../../hoc/withLazyLoad\";\r\n\r\n// для того, чтобы реализовать ленивую подгрузку компоненты мы импортим её вот таким способом\r\nconst MySettings = React.lazy(() => import('./MySettings/MySettings'));\r\nconst Music = React.lazy(() => import('./Music/Music'));\r\nconst Notifications = React.lazy(() => import('./Notifications/Notifications'));\r\nconst MyMessagesContainer = React.lazy(() => import (\"./MyMessages/MyMessagesContainer\"));\r\n\r\nconst MainPage = () => {\r\n\r\n\t\treturn (\r\n\t\t\t<div className={style.mainPage}>\r\n\t\t\t\t<Route exact path='/' render={() => <Redirect to={'/profile'} />}/>\r\n\t\t\t\t<Route path='/profile/:userId?' render={() => <ProfileContainer />}/>\r\n\t\t\t\t{/*далее пишем что-то на подобие hoc-a \"withLazyLoad\" и вызываем его, передаем внутрь компоненту*/}\r\n\t\t\t\t<Route path='/myMessages' render={withLazyLoad(MyMessagesContainer)}/>\r\n\t\t\t\t<Route path='/myMusic' render={withLazyLoad(Music)}/>\r\n\t\t\t\t<Route path='/notifications' render={withLazyLoad(Notifications)}/>\r\n\t\t\t\t<Route path='/findUsers' render={() => <UsersContainer/>}/>\r\n\t\t\t\t<Route path='/mySettings' render={withLazyLoad(MySettings)}/>\r\n\t\t\t\t<Route path='/login' render={() => <Login/>}/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\nexport default MainPage;","import React from 'react';\r\nimport style from './Header.module.css';\r\nimport images from \"../../assets/images/images\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n\treturn (\r\n\t\t<header className={style.header}>\r\n\t\t\t<div className={style.logo_wr}>logo</div>\r\n\t\t\t<div className={style.login_block_wr}>\r\n\t\t\t\t{\r\n\t\t\t\t\t!props.isAuth\r\n\t\t\t\t\t\t? <NavLink to={'/Login'} className={!props.isAuth ? style.login_text : style.login_text_login}>login</NavLink>\r\n\t\t\t\t\t\t: <div className={style.logoutWrapper}>\r\n\t\t\t\t\t\t\t<button className={props.isAuth ? style.login_text_login : style.login_text} onClick={props.logout}>logout</button>\r\n\t\t\t\t\t\t\t<div className={style.img_wrapper}>\r\n\t\t\t\t\t\t\t\t<NavLink to={'/profile'}><img src={images.imgAvatarNotFound} alt=\"avatar\"/></NavLink>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{/*<NavLink to={!props.isAuth ? '/login' : '/profile'} className={!props.isAuth ? style.login_text : style.login_text_login}>*/}\r\n\t\t\t\t{/*\t{!props.isAuth ? 'login' : 'Logout'}*/}\r\n\t\t\t\t{/*</NavLink>*/}\r\n\t\t\t\t{/*{*/}\r\n\t\t\t\t{/*\tprops.isAuth*/}\r\n\t\t\t\t{/*\t\t?*/}\r\n\t\t\t\t{/*\t\t<div className={style.img_wrapper}>*/}\r\n\t\t\t\t{/*\t\t\t<NavLink to={'/profile'}><img src={images.imgAvatarNotFound} alt=\"avatar\"/></NavLink>*/}\r\n\t\t\t\t{/*\t\t</div>*/}\r\n\t\t\t\t{/*\t\t:*/}\r\n\t\t\t\t{/*\t\tnull*/}\r\n\t\t\t\t{/*}*/}\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../Redux/auth-reducer\";\r\nclass HeaderContainer extends React.Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Header {...this.props} />\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth,\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer)","import React from 'react';\r\nimport './App.css'\r\nimport Aside from './components/MainPage/Aside/Aside';\r\nimport Footer from './components/Footer/Footer';\r\nimport MainPage from './components/MainPage/MainPage';\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport {initialize} from \"./Redux/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport Login from \"./components/Login/Login\";\r\n\r\nclass App extends React.Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.initialize()\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tif (!this.props.initialized) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className='preloader_background'>\r\n\t\t\t\t\t<div className=\"preloader_wr\">\r\n\t\t\t\t\t\t<Preloader/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tif(!this.props.isAuth) {\r\n\t\t\treturn (\r\n\t\t\t\t<Login />\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"App-wrapper\">\r\n\t\t\t\t<HeaderContainer/>\r\n\t\t\t\t<main className=\"main\">\r\n\t\t\t\t\t<Aside/>\r\n\t\t\t\t\t<MainPage/>\r\n\t\t\t\t</main>\r\n\t\t\t\t<Footer/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tinitialized: state.app.initialized,\r\n\tisAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(connect(mapStateToProps, {initialize})(App));\r\n","import store from './Redux/redux-store'\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\nReactDOM.render(\r\n\t<HashRouter>\r\n\t\t\t<Provider store={store}>\r\n\t\t\t\t<App />\r\n\t\t\t</Provider>\r\n\t</HashRouter>,\r\n\tdocument.getElementById('root')\r\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1Apqq\",\"logo_wr\":\"Header_logo_wr__HEEp4\",\"login_block_wr\":\"Header_login_block_wr__3aGvB\",\"login_text\":\"Header_login_text__1tqQQ\",\"login_text_login\":\"Header_login_text_login__2jq9h\",\"logoutWrapper\":\"Header_logoutWrapper__1jLUu\",\"img_wrapper\":\"Header_img_wrapper__BS8Pg\"};","import {profileAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD_POST'\r\n// const UPDATE_POST_MESSAGE_TEXT = 'UPDATE_POST_MESSAGE_TEXT'\r\nconst SET_POST_DATA = 'SET_POST_DATA'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst SET_PHOTO = 'SET_PHOTO'\r\n\r\nlet initialState = {\r\n\tpostData: [],\r\n\t// newPostText: '',\r\n\tprofile: null,\r\n\tstatus: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST:\r\n\t\t\tif (action.newPostMessage && action.newPostMessage.replace(/\\s/g, \"\")) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tpostData: [...state.postData, {\r\n\t\t\t\t\t\tid: 3,\r\n\t\t\t\t\t\tuserImg: 'https://www.meme-arsenal.com/memes/53336f6e6ad81d19f0d6196424f53e08.jpg',\r\n\t\t\t\t\t\tname: 'Васюнь', message: action.newPostMessage, likeCount: 0\r\n\t\t\t\t\t}],\r\n\t\t\t\t\t// newPostText: \"\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn state\r\n\r\n\t\t// case UPDATE_POST_MESSAGE_TEXT:\r\n\t\t// \treturn {\r\n\t\t// \t\t...state,\r\n\t\t// \t\tnewPostText: action.newText\r\n\t\t// \t}\r\n\r\n\t\tcase SET_POST_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostData: [...state.postData, ...action.postDataItem]\r\n\t\t\t}\r\n\r\n\t\tcase SET_USER_PROFILE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state, profile: action.profile\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase SET_STATUS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state, status: action.status\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase SET_PHOTO: {\r\n\t\t\treturn {\r\n\t\t\t\t...state, profile: {...state.profile, photos: action.photos}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n// export const onChangePostText = (text) => ({type: UPDATE_POST_MESSAGE_TEXT, newText: text})\r\nexport const addPost = (newPostMessage) => ({type: ADD_POST, newPostMessage})\r\nexport const setPostData = (postDataItem) => ({type: SET_POST_DATA, postDataItem})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const setUserPhoto = (photos) => ({type: SET_PHOTO, photos})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n\tconst data = await profileAPI.getProfile(userId)\r\n\tdispatch(setUserProfile(data))\r\n}\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n\tconst data = await profileAPI.getStatus(userId)\r\n\tdispatch(setStatus(data))\r\n}\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n\tconst data = await profileAPI.updateStatus(status)\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(setStatus(status))\r\n\t}\r\n}\r\n\r\nexport const savePhoto = (photo) => async (dispatch) => {\r\n\tconst data = await profileAPI.setPhoto(photo)\r\n\tif(data.resultCode === 0) {\r\n\t\tdispatch(setUserPhoto(data.data.photos))\r\n\t}\r\n}\r\n\r\nexport const saveBioProfile = (profile) => async (dispatch, getState) => {\r\n\tconst userId = getState().auth.id\r\n\tconst data = await profileAPI.setOwnProfile(profile)\r\n\tif(data.resultCode === 0) {\r\n\t\tdispatch(getUserProfile(userId))\r\n\t}\r\n\telse {\r\n\t\tdispatch(stopSubmit('settings', {_error: data.messages[0]}))\r\n\t}\r\n}\r\n\r\nexport const refreshProfileInSettings = () => (dispatch, getState) => {\r\n\tconst userId = getState().auth.id\r\n\tdispatch(getUserProfile(userId))\r\n}\r\n\r\nexport default profileReducer\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationWrapper\":\"Pagination_paginationWrapper__36kjF\",\"pg_number\":\"Pagination_pg_number__2vBen\",\"pg_number_active\":\"Pagination_pg_number_active__3trNr\",\"numbersBox\":\"Pagination_numbersBox__2fF5s\",\"prevNextBtn\":\"Pagination_prevNextBtn__3qlYj\"};","import React from 'react'\r\nimport style from './Preloader.module.css'\r\n\r\nconst Preloader = () => {\r\n\treturn <div className={style.fetching}>\r\n\r\n\t</div>\r\n}\r\n\r\nexport default Preloader;","export const required = value => {\r\n\tif(value) return undefined\r\n\treturn 'field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n\tif(value && value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n\treturn undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Profile_wrapper__39Yqm\",\"preloader_wr\":\"Profile_preloader_wr__1rymi\"};","import React from 'react'\r\nimport style from './FormControls.module.css'\r\n\r\n\r\nexport const Element = Element => ({input, meta, ...props}) => {\r\n\tconst hasErrors = meta.touched && meta.error\r\n\treturn (\r\n\t\t<div className={`${style.formControl} ${hasErrors && style.error}`}>\r\n\t\t\t{hasErrors && <span className={style.errorMessage}>{meta.error}</span>}\r\n\t\t\t<Element {...input} {...props} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n// export const Textarea = ({input, meta, ...props}) => {\r\n// \tconst hasErrors = meta.touched && meta.error\r\n// \treturn (\r\n// \t\t<div className={`${style.formControl} ${hasErrors && style.error}`}>\r\n// \t\t\t{hasErrors && <span className={style.errorMessage}>{meta.error}</span>}\r\n// \t\t\t<textarea {...input} {...props} />\r\n// \t\t</div>\r\n// \t)\r\n// }\r\n//\r\n// export const Input = ({input, meta, ...props}) => {\r\n// \tconst hasErrors = meta.touched && meta.error\r\n// \treturn (\r\n// \t\t<div className={`${style.formControl} ${hasErrors && style.error}`}>\r\n// \t\t\t{hasErrors && <span className={style.errorMessage}>{meta.error}</span>}\r\n// \t\t\t<input {...input} {...props} />\r\n// \t\t</div>\r\n// \t)\r\n// }","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainPage\":\"MainPage_mainPage__nhouX\",\"preloader_wr\":\"MainPage_preloader_wr__2jR3o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AvatarItem_wrapper__5pbqS\",\"user_img_wr\":\"AvatarItem_user_img_wr__TIhsG\",\"user_name\":\"AvatarItem_user_name__1_dQL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__3w5qX\",\"error\":\"FormControls_error__IYOT1\",\"errorMessage\":\"FormControls_errorMessage__1Ft9t\"};"],"sourceRoot":""}