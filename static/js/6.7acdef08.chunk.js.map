{"version":3,"sources":["components/MainPage/MySettings/MySettings.module.css","components/MainPage/MySettings/MySettings.jsx"],"names":["module","exports","Input","Element","Textarea","maxLength300","maxLengthCreator","SettingsFormWithReduxForm","reduxForm","form","profile","handleSubmit","error","onSubmit","className","style","bio","block_title","settingsInputWr","spanKey","text","name","component","placeholder","type","textarea","validate","Object","keys","contacts","map","key","settingsError","compose","connect","state","userId","auth","id","profilePage","savePhoto","saveBioProfile","refreshProfileInSettings","withAuthRedirect","useEffect","console","log","wrapper","save_photo","span_common","uploadBtn","onChange","e","target","files","length","then","formData","initialValues","preloader_wr"],"mappings":"qGACAA,EAAOC,QAAU,CAAC,QAAU,4BAA4B,WAAa,+BAA+B,UAAY,8BAA8B,YAAc,gCAAgC,IAAM,wBAAwB,gBAAkB,oCAAoC,QAAU,4BAA4B,KAAO,yBAAyB,SAAW,6BAA6B,YAAc,gCAAgC,aAAe,iCAAiC,cAAgB,oC,sJCUteC,EAAQC,YAAQ,SAChBC,EAAWD,YAAQ,YACnBE,EAAeC,YAAiB,KA8ChCC,EAA4BC,YAAU,CAACC,KAAM,YAAjBD,EA5Cb,SAAC,GAAoC,IAAnCE,EAAkC,EAAlCA,QAASC,EAAyB,EAAzBA,aAAcC,EAAW,EAAXA,MAC7C,OACC,uBAAMC,SAAUF,EAAcG,UAAWC,IAAMC,IAA/C,UACC,oBAAIF,UAAWC,IAAME,YAArB,sBACA,sBAAKH,UAAWC,IAAMG,gBAAtB,UACC,sBAAMJ,UAAWC,IAAMI,QAAvB,wBACA,sBAAML,UAAWC,IAAMK,KAAvB,SACC,cAAC,IAAD,CAAOC,KAAM,WAAYC,UAAWpB,EAAOqB,YAAa,mBAG1D,sBAAKT,UAAWC,IAAMG,gBAAtB,UACC,sBAAMJ,UAAWC,IAAMI,QAAvB,gCACA,sBAAML,UAAWC,IAAMK,KAAvB,SACC,cAAC,IAAD,CAAOC,KAAM,iBAAkBC,UAAWpB,EAAOsB,KAAM,kBAGzD,sBAAKV,UAAWC,IAAMG,gBAAtB,UACC,sBAAMJ,UAAWC,IAAMI,QAAvB,uCACA,sBAAML,UAAWC,IAAMU,SAAvB,SACC,cAAC,IAAD,CAAOJ,KAAM,4BAA6BC,UAAWlB,EAAUmB,YAAa,2BAA4BG,SAAU,CAACrB,UAGrH,sBAAKS,UAAWC,IAAMG,gBAAtB,UACC,sBAAMJ,UAAWC,IAAMI,QAAvB,uBACA,sBAAML,UAAWC,IAAMU,SAAvB,SACC,cAAC,IAAD,CAAOJ,KAAM,UAAWC,UAAWlB,EAAUmB,YAAa,WAAYG,SAAU,CAACrB,UAGnF,oBAAIS,UAAWC,IAAME,YAArB,sBAECU,OAAOC,KAAKlB,EAAQmB,UAAUC,KAAI,SAAAC,GAClC,OAAO,sBAAejB,UAAWC,IAAMG,gBAAhC,UACN,uBAAMJ,UAAWC,IAAMI,QAAvB,UAAiCY,EAAjC,OACA,sBAAMjB,UAAWC,IAAMK,KAAvB,SACA,cAAC,IAAD,CAAOC,KAAM,YAAcU,EAAKT,UAAWpB,QAH3B6B,MAOjBnB,GAAS,sBAAME,UAAWC,IAAMiB,cAAvB,SAAuCpB,IACjD,gDAkDYqB,sBACdC,aALuB,SAACC,GAAD,MAAY,CACnCC,OAAQD,EAAME,KAAKC,GACnB5B,QAASyB,EAAMI,YAAY7B,WAGF,CAAC8B,cAAWC,mBAAgBC,+BACrDC,IAFcV,EA1CI,SAAC,GAAoE,IAAnEvB,EAAkE,EAAlEA,QAAS+B,EAAyD,EAAzDA,eAAgBD,EAAyC,EAAzCA,UAAWE,EAA8B,EAA9BA,yBASxDE,qBAAU,WACTC,QAAQC,IAAI,WACRpC,GACHgC,MAEC,CAAChC,IAOJ,OAAGA,EAED,sBAAKI,UAAWC,IAAMgC,QAAtB,UACC,sBAAKjC,UAAWC,IAAMiC,WAAtB,UACC,sBAAMlC,UAAWC,IAAMkC,YAAvB,iCACA,+BAAM,uBAAOnC,UAAWC,IAAMmC,UAAWC,SAxBzB,SAACC,GAChBA,EAAEC,OAAOC,MAAMC,QAClBf,EAAUY,EAAEC,OAAOC,MAAM,IAAIE,MAAK,WACjCX,QAAQC,IAAI,wBAqBqDtB,KAAK,cAEtE,cAACjB,EAAD,CAA2BM,SAZL,SAAC4C,GACzBhB,EAAegB,IAW0CC,cAAehD,EAASA,QAASA,OAI/E,qBAAKI,UAAWC,IAAM4C,aAAtB,SACX,cAAC,IAAD","file":"static/js/6.7acdef08.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MySettings_wrapper__PVWoB\",\"save_photo\":\"MySettings_save_photo__uGa-9\",\"uploadBtn\":\"MySettings_uploadBtn__2DxmR\",\"span_common\":\"MySettings_span_common__3XB-Z\",\"bio\":\"MySettings_bio__2ET7y\",\"settingsInputWr\":\"MySettings_settingsInputWr__3QSVt\",\"spanKey\":\"MySettings_spanKey__QrVxR\",\"text\":\"MySettings_text__23Ddg\",\"textarea\":\"MySettings_textarea__bmXj_\",\"block_title\":\"MySettings_block_title__2Tcp3\",\"preloader_wr\":\"MySettings_preloader_wr__3UTlY\",\"settingsError\":\"MySettings_settingsError__2izci\"};","import React, {useEffect} from \"react\";\r\nimport style from './MySettings.module.css';\r\nimport {connect} from \"react-redux\";\r\nimport {refreshProfileInSettings, saveBioProfile, savePhoto} from \"../../../Redux/profile-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../../hoc/withAuthRedirect\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Element} from \"../../common/FormControls/FormControls\";\r\nimport {maxLengthCreator} from \"../../../utils/validators/validators\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\n\r\nconst Input = Element('input')\r\nconst Textarea = Element('textarea')\r\nconst maxLength300 = maxLengthCreator(300)\r\n\r\nconst SettingsForm = ({profile, handleSubmit, error}) => {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit} className={style.bio}>\r\n\t\t\t<h5 className={style.block_title}>Main Bio</h5>\r\n\t\t\t<div className={style.settingsInputWr}>\r\n\t\t\t\t<span className={style.spanKey}>Full Name:</span>\r\n\t\t\t\t<span className={style.text}>\r\n\t\t\t\t\t<Field name={'fullName'} component={Input} placeholder={'Full name'} />\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div className={style.settingsInputWr}>\r\n\t\t\t\t<span className={style.spanKey}>Looking For A Job:</span>\r\n\t\t\t\t<span className={style.text}>\r\n\t\t\t\t\t<Field name={'lookingForAJob'} component={Input} type={'checkbox'}/>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div className={style.settingsInputWr}>\r\n\t\t\t\t<span className={style.spanKey}>Your professional skills:</span>\r\n\t\t\t\t<span className={style.textarea}>\r\n\t\t\t\t\t<Field name={'lookingForAJobDescription'} component={Textarea} placeholder={'Your professional skills'} validate={[maxLength300]}/>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div className={style.settingsInputWr}>\r\n\t\t\t\t<span className={style.spanKey}>About Me:</span>\r\n\t\t\t\t<span className={style.textarea}>\r\n\t\t\t\t\t<Field name={'aboutMe'} component={Textarea} placeholder={'About me'} validate={[maxLength300]}/>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<h5 className={style.block_title}>Contacts</h5>\r\n\r\n\t\t\t{Object.keys(profile.contacts).map(key => {\r\n\t\t\t\treturn <div key={key} className={style.settingsInputWr}>\r\n\t\t\t\t\t<span className={style.spanKey}>{key}:</span>\r\n\t\t\t\t\t<span className={style.text}>\r\n\t\t\t\t\t<Field name={'contacts.' + key} component={Input} />\r\n\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t})}\r\n\t\t\t{error && <span className={style.settingsError}>{error}</span>}\r\n\t\t\t<button>Save</button>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst SettingsFormWithReduxForm = reduxForm({form: 'settings'})(SettingsForm)\r\n\r\n\r\nconst MySettings = ({profile, saveBioProfile, savePhoto, refreshProfileInSettings}) => {\r\n\r\n\tconst uploadPhoto = (e) => {\r\n\t\tif (e.target.files.length) {\r\n\t\t\tsavePhoto(e.target.files[0]).then(() => {\r\n\t\t\t\tconsole.log('photo was upload')\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tconsole.log('refresh')\r\n\t\tif(!profile) {\r\n\t\t\trefreshProfileInSettings()\r\n\t\t}\r\n\t}, [profile])\r\n\r\n\tconst saveSettingsForm = (formData) => {\r\n\t\tsaveBioProfile(formData)\r\n\t}\r\n\r\n\r\n\tif(profile) {\r\n\t\treturn (\r\n\t\t\t<div className={style.wrapper}>\r\n\t\t\t\t<div className={style.save_photo}>\r\n\t\t\t\t\t<span className={style.span_common}>Upload your photo: </span>\r\n\t\t\t\t\t<span><input className={style.uploadBtn} onChange={uploadPhoto} type=\"file\"/></span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<SettingsFormWithReduxForm onSubmit={saveSettingsForm} initialValues={profile} profile={profile} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\telse return <div className={style.preloader_wr}>\r\n\t\t<Preloader />\r\n\t</div>\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuserId: state.auth.id,\r\n\tprofile: state.profilePage.profile\r\n})\r\nexport default compose(\r\n\tconnect(mapStateToProps, {savePhoto, saveBioProfile, refreshProfileInSettings}),\r\n\twithAuthRedirect\r\n)(MySettings)\r\n\r\n// export default connect(null, {savePhoto})(MySettings);"],"sourceRoot":""}